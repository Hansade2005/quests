import{r as c,j as e,a0 as f,a as h,b as m,d as v,e as j,a1 as g,L as w,B as b,y as N}from"./browser-ByRVlxZs.js";import{h as A}from"./has-ai-provider-CMHwJ9oN.js";import{a as P,A as I}from"./ai-provider-guard-dialog-CqR3tf4a.js";import{S as R}from"./app-icon-D6xJYLb3.js";import{A as k,a as S,M as G}from"./markdown-BGjOwmZo.js";import{G as y}from"./provider-metadata-CugWU6eq.js";import{G as C,a as E,b as F}from"./constants-1ewvo0N-.js";import{C as O}from"./chevron-right-Bveoklej.js";import{P as _}from"./plus-Df7A54Wp.js";import{a as M}from"./react-MNBroJ8M.js";import"./supported-providers-DL_mBpue.js";import"./animated-logo-m8857RJK.js";import"./dialog-CXGJl-o7.js";import"./index-BLI4MUby.js";import"./index-Dc_FVRD7.js";import"./index-2emEW3K2.js";import"./index-DCjjJrI9.js";import"./x-CEbMeDD8.js";import"./logo-CYjnf5Jp.js";import"./sun-DU-usQ9G.js";import"./settings-QCWEOfoD.js";import"./search-D46bnQJV.js";import"./check-C4BuViip.js";import"./use-app-state-XN3_o-A1.js";import"./input-b4JxTlpn.js";import"./tooltip-CuHm1DfS.js";import"./index-DBjN4Su_.js";import"./index-CBgJt7o6.js";function T({className:o="flex h-[calc(100dvh-3.5rem)] w-full flex-col overflow-hidden",preview:r}){const s=c.useRef(null);return e.jsxs("div",{className:o,children:[e.jsx(k,{app:r,iframeRef:s}),e.jsx("div",{className:"min-h-0 flex-1",children:e.jsx(S,{app:r,iframeRef:s})})]})}function pe(){const{folderName:o}=f.useParams(),{data:r}=h(m.workspace.registryApp.byFolderName.queryOptions({input:{folderName:o}})),s=v(),a=j(m.workspace.project.createFromPreview.mutationOptions()),t=M(A),[p,i]=c.useState(!1),u=()=>{if(!t){i(!0);return}if(r){const l=N.newSessionId();a.mutate({previewSubdomain:r.preview.subdomain,sessionId:l},{onSuccess:x=>{s({params:{subdomain:x.subdomain},search:{selectedSessionId:l},to:"/projects/$subdomain"})}})}};if(!r)return e.jsx(g,{message:"The app could not be found."});const n=r.title,d=r.description;return e.jsx("div",{className:"h-full w-full overflow-y-auto",children:e.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[e.jsxs("nav",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[e.jsx(w,{className:"hover:text-foreground transition-colors",to:"/discover",children:"Discover"}),e.jsx(O,{className:"h-4 w-4"}),e.jsx("span",{className:"text-foreground font-medium",children:n})]}),e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.icon&&e.jsx(R,{background:r.icon.background,icon:r.icon.lucide,size:"lg"}),e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:n})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:d}),e.jsx("span",{children:"â€¢"})]}),e.jsxs("a",{className:"flex items-center gap-1 hover:text-foreground transition-colors cursor-pointer",href:F,rel:"noopener noreferrer",target:"_blank",children:[e.jsx(y,{className:"size-5"}),C,"/",E]})]})]}),e.jsxs(b,{className:"shrink-0",disabled:a.isPending,onClick:u,size:"lg",variant:"brand",children:[e.jsx(_,{className:"h-4 w-4"}),"Start Project"]})]}),e.jsx("div",{className:"w-full h-[600px]",children:t?e.jsx(T,{className:"w-full h-full rounded-lg border border-border overflow-hidden flex flex-col",preview:r.preview}):e.jsx("div",{className:"w-full h-full rounded-lg border border-border flex items-center justify-center bg-background",children:e.jsx(P,{description:"You need to add an AI provider to view app previews."})})}),r.readme&&e.jsx("div",{className:"prose prose-sm max-w-none prose-neutral dark:prose-invert",children:e.jsx(G,{markdown:r.readme})}),e.jsx(I,{description:"You need to add an AI provider to create projects.",onOpenChange:i,open:p})]})})}export{pe as component};
